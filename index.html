<!-- üîê IN√çCIO DA PROTE√á√ÉO POR SENHA -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var senha = prompt("Digite a senha para acessar:");
    if (senha !== "12345678") {
      document.body.innerHTML = "<h1>Acesso negado</h1>";
    }
  });
</script>
<!-- üîê FIM DA PROTE√á√ÉO POR SENHA -->


<div class="view-counter" id="viewCounterContainer" style="display:none;">
  <div class="pulse-wrapper">
    <span class="dot"></span>
    <span class="pulse-ring"></span>
  </div>
  <span><strong id="visits">37</strong> <strong>pessoas</strong> est√£o vendo esse produto agora</span>
</div>

<style>
  .view-counter {
    font-family: "Segoe UI", Roboto, sans-serif;
    padding: 0;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    color: #111;
    margin-bottom: 8px;
    max-width: fit-content;
  }

  .pulse-wrapper {
    position: relative;
    width: 16px;
    height: 16px;
    top: 1px;
  }

  .dot {
    width: 8px;
    height: 8px;
    background: green;
    border-radius: 50%;
    position: absolute;
    top: 4px;
    left: 3.8px;
    z-index: 2;
    animation: dotPulse 0.8s ease-in-out infinite;
  }

  .pulse-ring {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: rgba(85, 85, 85, 0.4);
    position: absolute;
    top: 0;
    left: 0;
    z-index: 1;
    animation: ringPulse 0.9s ease-out infinite;
  }

  @keyframes dotPulse {
    0%, 100% { transform: scale(1); opacity: 1; }
    50% { transform: scale(1.3); opacity: 0.4; }
  }

  @keyframes ringPulse {
    0% { transform: scale(1); opacity: 0.8; }
    100% { transform: scale(2.2); opacity: 0; }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const visits = document.getElementById("visits");
    const counterBox = document.getElementById("viewCounterContainer");

    // Simula n√∫mero de visitantes
    let count = Math.floor(Math.random() * (81 - 25)) + 25;
    visits.textContent = count;

    setInterval(() => {
      const direction = Math.random() < 0.5 ? -1 : 1;
      const variation = Math.floor(Math.random() * 2) + 1;
      count += direction * variation;
      if (count < 20) count = 22;
      if (count > 85) count = 83;
      visits.textContent = count;
    }, Math.floor(Math.random() * 3000) + 3000);

    // Aguarda at√© que o nome do produto seja carregado para posicionar o contador
    const tryInject = () => {
      const title = document.querySelector('.product-title') || document.querySelector('h1.nome-produto');
      if (title && counterBox && !counterBox.classList.contains("inserted")) {
        title.parentNode.insertBefore(counterBox, title);
        counterBox.style.display = "inline-flex";
        counterBox.classList.add("inserted");
      } else {
        setTimeout(tryInject, 300); // tenta novamente at√© que a p√°gina esteja pronta
      }
    };
    tryInject();
  });
</script>
